{"cells":[{"metadata":{"_uuid":"828103a4b5862f647bc4f775dfc7a7f61d1d1e00"},"cell_type":"markdown","source":"**Starting with the basics**\n\nGetting files, etc. "},{"metadata":{"trusted":true,"_uuid":"a36e3e924a07d4303e9fbd48903bff28c0cf98e0"},"cell_type":"code","source":"## Importing packages\n\n# This R environment comes with all of CRAN and many other helpful packages preinstalled.\n# You can see which packages are installed by checking out the kaggle/rstats docker image: \n# https://github.com/kaggle/docker-rstats\n\nlibrary(tidyverse) # metapackage with lots of helpful functions\nlibrary(data.table)\nlibrary(FeatureHashing)\nlibrary(Matrix)\nlibrary(xgboost)\nrequire(randomForest)\nrequire(caret)\nrequire(dplyr)\nrequire(ggplot2)\nlibrary(pROC)\nlibrary(stringr)\nlibrary(dummies)\nlibrary(Metrics)\nlibrary(kernlab)\nlibrary(mlbench)\n\n## Running code\n\n# In a notebook, you can run a single code cell by clicking in the cell and then hitting \n# the blue arrow to the left, or by clicking in the cell and pressing Shift+Enter. In a script, \n# you can run code by highlighting the code you want to run and then clicking the blue arrow\n# at the bottom of this window.\n\n## Reading in files\n\n# You can access files from datasets you've added to this kernel in the \"../input/\" directory.\n# You can see the files added to this kernel by running the code below. \n\nlist.files(path = \"../input\")\ntrain = read.csv('../input/train.csv')\n\n## Saving data\n\n# If you save any files or images, these will be put in the \"output\" directory. You \n# can see the output directory by committing and running your kernel (using the \n# Commit & Run button) and then checking out the compiled version of your kernel.","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"0e11140558b518f9515fe62b92aa6edf817dd685"},"cell_type":"markdown","source":"**Encoding the categorical variables**\n\nUsing a first approach, converting all data at once:"},{"metadata":{"trusted":true,"_uuid":"b240a9e7addac1df8b960be03f33e65e0eabda14"},"cell_type":"code","source":"training_set <- data.matrix(train)\ntraining_set <- as.data.frame(training_set)\nncol(training_set)","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"7695d50d740862bb12a8e923a71b8bade5f999da"},"cell_type":"code","source":"#Fix N/A\ntraining_set$Alley[is.na(training_set$Alley)] <- 0\ntraining_set$LotFrontage[is.na(training_set$LotFrontage)] <- 0\ntraining_set$FireplaceQu[is.na(training_set$FireplaceQu)] <- 0\ntraining_set$PoolQC[is.na(training_set$PoolQC)] <- 0\ntraining_set$Fence[is.na(training_set$Fence)] <- 0\ntraining_set$MiscFeature[is.na(training_set$MiscFeature)] <- 0","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"782c410d2b751f4c16491a4ec5345c8fb40dcbe0"},"cell_type":"markdown","source":"**Predicting with XGBoost**\n\nCreating the classifier and predicting the data"},{"metadata":{"trusted":true,"_uuid":"b2540fe82aa9039aa5723e5145bd115783bc9c33"},"cell_type":"code","source":"library(xgboost)\nclassifier = xgboost(data = as.matrix(training_set[-81]), label = training_set$SalePrice, nrounds = 10)","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"7da3bcd45988b091e6c96c8e80447f98cbf70c3c","scrolled":false},"cell_type":"code","source":"test = read.csv('../input/test.csv')\ntest_set <- data.matrix(test)\ntest_set <- as.data.frame(test_set)\n\n#Fix the N/A\ntest_set$Alley[is.na(test_set$Alley)] <- 0\ntest_set$LotFrontage[is.na(test_set$LotFrontage)] <- 0\ntest_set$FireplaceQu[is.na(test_set$FireplaceQu)] <- 0\ntest_set$PoolQC[is.na(test_set$PoolQC)] <- 0\ntest_set$Fence[is.na(test_set$Fence)] <- 0\ntest_set$MiscFeature[is.na(test_set$MiscFeature)] <- 0\n\ny_pred = predict(classifier, newdata = as.matrix(test_set))","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"6b62a46a059f9c7e6c48163e184c75ca1adc258f"},"cell_type":"markdown","source":"Combining the prediction vector into a csv file to export"},{"metadata":{"trusted":true,"_uuid":"f69d3121365984ee70d3b2ed2b15fb455616049a"},"cell_type":"code","source":"out <- data.frame(test_set[1], y_pred)\ncolnames(out)[colnames(out)==\"y_pred\"] <- \"SalePrice\"\nout","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"6b2e9c424f5147a26f4e8d6fc6f3979909957db4"},"cell_type":"code","source":"write.csv(out, file = \"Submission.csv\", row.names=F)","execution_count":null,"outputs":[]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"3.4.2","file_extension":".r","codemirror_mode":"r"}},"nbformat":4,"nbformat_minor":1}